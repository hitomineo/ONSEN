<% @favorite_posts.each do |post| %>
        <div class ="col-5 lg-4 ml-5 mr-5 mb-5 pb-5", style="box-shadow: 0 0 15px 0px rgba(0, 0, 0, 0.5)">
          <div class ="justify-content-start pt-4 pl-3"> <%= post.customer.name%></div>
            <div class ="text-center pt-4"><%= image_tag post.get_image(240,240) %></div>
              <div class ="mt-5 ml-5 mr-5">
                <table class="table">
                  <tbody>
                    <tr>
                      <th>
                        <i class="fas fa-pen"></i> 温泉名 /
                         <%= post.onsen_name %>
                      </th>
                    </tr>

                    <tr>
                      <th>
                        <i class="fa fa-map-pin" aria-hidden="true"></i> 住所 /
                         <%= post.address %>
                      </th>
                    </tr>

                    <tr>
                      <th>
                         <i class="fa fa-car" aria-hidden="true"></i> 駐車場 /
                          <%= post.parking_i18n %>
                      </th>
                      </tr>

                    <tr>
                      <th>
                          <i class="fa fa-credit-card" aria-hidden="true"></i> 支払い方 /
                           <%= post.payment_i18n %>
                      </th>
                      </tr>

                    <tr>
                      <th>
                        <i class="fa fa-shower" aria-hidden="true"></i> シャンプー/コンディショナー /
                         <%= post.toiletry %>
                      </th>
                    </tr>

                    <tr>
                      <th>
                        <i class="fa fa-cart-arrow-down" aria-hidden="true"></i> タオル有無 /
                         <%= post.towel_stock_i18n %>
                      </th>
                    </tr>

                    <tr>
                      <th>
                        <i class="fa fa-heart" aria-hidden="true"></i> 化粧水/メイク落とし /
                         <%= post.skin_product %>
                      </th>
                    </tr>

                    <tr>
                      <th>
                        <i class="fa fa-plug" aria-hidden="true"></i> ドライヤー(有無/風量) /
                         <%= post.hairdryer %>
                      </th>
                    </tr>

                    <tr>
                      <th>
                        <i class="fa fa-suitcase" aria-hidden="true"></i> 荷物の預け方 /
                         <%= post.luggage %>
                      </th>
                    </tr>



<!--星機能-->
                      <div id="star-rate<%= post.id%>">
                          <script>
                            $('#star-rate<%= post.id %>').empty();
                            $('#star-rate<%= post.id%>').raty({
                              size      : 36,
                              starOff   : '<%= asset_path('star-off.png') %>',
                              starOn    : '<%= asset_path('star-on.png') %>',
                              half      : false,
                              readOnly: true,
                              score: '<%= post.star.nil? ? 0 :  post.star %>'
                            });
                          </script>
                      </div>

                  </tbody>
                </table>
              </div>

              <div class ="ml-5">
                <div id="map-<%= post.id %>" style="width:300px;height:150px "></div>
              </div>

                    <div class ="text-right pr-5" id="like_buttons_<%= post.id %>">
                       <%= render "public/likes/likes", post: post %>
                    </div>
        </div>
        <!--ページネーション-->
        <%#= paginate @post %>
      <% end %>

    </div>
</div>

                     <script>
                        function initMap(){
                          // 地図の位置情報(緯度・経度)を取得
                        <% @favorite_posts.each do |post| %>
                        {
                          let mapPosition = {lat: <%= post.latitude || 0 %> , lng: <%= post.longitude || 0 %> };
                          let map = new google.maps.Map(document.getElementById("map-<%= post.id %>"), {
                            zoom: 15,
                            center: mapPosition
                          });
                          let transitLayer = new google.maps.TransitLayer();
                          transitLayer.setMap(map);

                          let contentString = '【住所】<%= post.address %>';
                          let infowindow = new google.maps.InfoWindow({
                            content: contentString
                          });

                          let marker = new google.maps.Marker({
                            position: mapPosition,
                            map: map,
                            title: contentString
                          });

                          marker.addListener('click', function(){
                            infowindow.open(map, marker);
                          });
                        }<%end%>
                        }
                      </script>
<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAP_API_KEY'] %>&callback=initMap" async defer></script>
